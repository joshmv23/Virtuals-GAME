"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.storeEncryptedKey = storeEncryptedKey;
const utils_1 = require("./utils");
const service_client_1 = require("../service-client");
/** Stores an encrypted private key and its metadata to the wrapped keys backend service
 *
 * @param { StoreEncryptedKeyParams } params Parameters required to fetch the encrypted private key metadata
 * @returns { Promise<StoreEncryptedKeyResult> } The encrypted private key and its associated metadata
 */
async function storeEncryptedKey(params) {
    const { pkpSessionSigs, litNodeClient } = params;
    const sessionSig = (0, utils_1.getFirstSessionSig)(pkpSessionSigs);
    const { publicKey, keyType, dataToEncryptHash, ciphertext, memo } = params;
    return (0, service_client_1.storePrivateKey)({
        storedKeyMetadata: {
            publicKey,
            keyType,
            dataToEncryptHash,
            ciphertext,
            memo,
        },
        sessionSig,
        litNetwork: litNodeClient.config.litNetwork,
    });
}
//# sourceMappingURL=store-encrypted-key.js.map