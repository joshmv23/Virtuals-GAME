"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateKeyWithLitAction = generateKeyWithLitAction;
const constants_1 = require("@lit-protocol/constants");
const utils_1 = require("./utils");
async function generateKeyWithLitAction({ litNodeClient, pkpSessionSigs, litActionIpfsCid, litActionCode, accessControlConditions, pkpAddress, }) {
    const result = await litNodeClient.executeJs({
        useSingleNode: true,
        sessionSigs: pkpSessionSigs,
        ipfsId: litActionIpfsCid,
        code: litActionCode,
        jsParams: {
            pkpAddress,
            accessControlConditions,
        },
        ipfsOptions: {
            overwriteCode: constants_1.GLOBAL_OVERWRITE_IPFS_CODE_BY_NETWORK[litNodeClient.config.litNetwork],
        },
    });
    const response = (0, utils_1.postLitActionValidation)(result);
    return JSON.parse(response);
}
//# sourceMappingURL=generate-key.js.map