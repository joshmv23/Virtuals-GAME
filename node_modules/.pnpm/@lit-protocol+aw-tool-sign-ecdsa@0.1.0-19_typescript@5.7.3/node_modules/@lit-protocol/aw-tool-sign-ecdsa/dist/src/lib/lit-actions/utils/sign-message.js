"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.signMessage = void 0;
/**
 * Signs the message using the PKP's public key.
 * @param pkpPublicKey - The PKP's public key.
 * @param message - The message to sign.
 * @returns The signature of the message.
 */
const signMessage = async (pkpPublicKey, message) => {
    const pkForLit = pkpPublicKey.startsWith('0x')
        ? pkpPublicKey.slice(2)
        : pkpPublicKey;
    const sig = await Lit.Actions.signEcdsa({
        toSign: ethers.utils.arrayify(ethers.utils.keccak256(ethers.utils.toUtf8Bytes(message))),
        publicKey: pkForLit,
        sigName: 'sig',
    });
    return sig;
};
exports.signMessage = signMessage;
